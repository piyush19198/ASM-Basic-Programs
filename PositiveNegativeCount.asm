%macro display 4
 	MOV RAX,%1
 	MOV RDI,%2
  	MOV RSI,%3
  	MOV RDX,%4
 SYSCALL
%endmacro
section .data
 	ARRAY DQ 1234562728193627H,1627382934567891H,1627384950261748H,1234567891234567H

  	N EQU 4
 	MSGP DB 10,"POSITIVE NO COUNT IS:",10
 	LP EQU $-MSGP
 
 	MSGN DB 10,"NEGATIVE NO COUNT IS:",10
 	LN EQU $-MSGN
section .bss
 	
	PCNT RESQ 1
 	NCNT RESQ 1
	BUFF RESB 16

section .text
global _start
_start:
 
  	MOV RBX,0
  	MOV RCX,0
  	MOV RDX,N
  	MOV RSI,ARRAY
  
UP: 	MOV RAX,[RSI]
 	CMP RAX,0H
  	JS NEG
  	INC RBX
  	JMP NEXT
  
NEG: 	INC RCX
  
NEXT:	ADD RSI,8
  	DEC RDX
  	JNZ UP
  	MOV [PCNT],RBX
  	MOV [NCNT],RCX
 	
	display 1,1,MSGP,LP
  	MOV RAX,[PCNT]
  	CALL DISPLAY64
  
  	display 1,1,MSGN,LP
  	MOV RAX,[NCNT]
  	CALL DISPLAY64
  	
	MOV RAX,60
  	MOV RBX,0
	SYSCALL	 

DISPLAY64: 
	MOV RSI,BUFF
	MOV RCX,16

UP1:	ROL RAX,4
	MOV DL,0
	MOV DL,AL
	AND DL,0FH
	CMP DL,09H
	JBE ADD30
	ADD DL,07H

ADD30:ADD DL,30H
	MOV [RSI],DL
	INC RSI
	LOOP UP1
display 1,1, BUFF,16
ret	  

